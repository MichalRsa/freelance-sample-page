---
import { getTransLink } from "../utils/langs";
import type { Props as LinkProps } from "../storyblok/Link.astro";

const { blok, language } = Astro.props;

const { footer_menu, socials, phone_number, opening_hours } = blok;
---

<footer
  class="flex w-full justify-between bg-primary-700 px-20 py-4 text-primary-50"
>
  <div>
    <h3>Kawusia</h3>
    <div class="flex justify-between">
      {
        socials.map((social: any) => (
          <a href="/">
            <img src={social.filename} alt="" />
          </a>
        ))
      }
    </div>
    <a
      href={`tel:${phone_number}`}
      class="text-md block pt-4 text-center underline">{phone_number}</a
    >
  </div>
  <div>
    <p class="pb-4 font-bold">Opening Hours</p>
    {
      (
        <ul class="w-64">
          {opening_hours.map((day: any) => (
            <li>
              <p class="flex justify-between pb-1">
                <span>{day.day}</span>
                <span>{day.hours}</span>
              </p>
            </li>
          ))}
        </ul>
      )
    }
  </div>

  <div>
    <ul class="flex flex-col items-center text-base font-bold">
      {
        footer_menu.map((menu: LinkProps) => (
          <li>
            <a
              href={getTransLink(language, `/${menu.link.cached_url}`)}
              class="text-secondary-100"
            >
              {menu.link.story?.name}
            </a>
          </li>
        ))
      }
    </ul>
  </div>
</footer>
